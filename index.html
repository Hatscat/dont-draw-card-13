<title>🃏</title><meta name=viewport content=width=device-width,initial-scale=1><style>@keyframes a{0%{transform:scaleX(-1);background:#000}20%{background:#000}50%{background:#FFF}}@keyframes b{0%{filter:none;color:#0000}100%{filter:blur(7px);color:red;font-size:777}}@keyframes c{33%{transform:rotate(2deg)}77%{transform:rotate(-2deg)}}body{background:#111}d,d *{color:#EEE;font-family:monospace;font-size:16;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;transition:all .7s}h1{font-size:48;margin:16}v,a,c,x{cursor:pointer}a{background:#333;padding:24 48}a:hover,#j:hover{filter:invert(1)}x{align-self:flex-end}x::after{content:'❌'}#f{display:none}#f[open]{display:flex;background:#000}::backdrop{background:#7777}c,#j{border-radius:16px;height:360;width:256;color:#000}#q{color:#000}#j{background:#FFF;outline:4px double #777}c{background:#DDD;position:fixed;outline:3px solid;color:#000;font-size:100}c>*{font-size:1em;color:inherit;pointer-events:none}e{font-size:4em;padding-bottom:22%}#m{outline:4px dashed #CCC}#m,.b{pointer-events:none;border-radius:16px;height:192;width:128}#r{margin:24}.a:hover{background:#FFF;z-index:7}.b{font-size:50}.e{pointer-events:none;animation:5s b, .1s c infinite}.e::after{content:'13';position:fixed}</style><d id=h></d><script>n='getBoundingClientRect';k=String.fromCharCode;d={};a=55356;for(b=0;b++<13;){e=Math.min(b,10);i=b^12?b:14;d[k(a,56480+i)]=e;d[k(a,56496+i)]=e;d[k(a,56512+i)]=e;d[k(a,56528+i)]=e;d[b]=b;if(b>5)d[b+8]=b+8};s=_=>(h.innerHTML='<h1 style=font-size:320>🃏</h1><a onclick=x()>Play</a>');x=_=>{h.innerHTML="<h1>Don't draw card 13!</h1><z style=margin-top:64;width:100%;flex-direction:row;justify-content:space-evenly;gap:8px;align-items:start><a onclick=y()><h1>🃏</h1>Card Shop<p id=z></p></a><v id=j onclick=aa()><p id=q></p></v><z style=align-self:flex-end><p><z id=ab></z></p><z id=m></z></z></z><z id=r></z><dialog id=f></dialog>";l()};l=_=>{q.innerHTML='Draw ('+t.length+')';ab.innerHTML='Discard Pile ('+o.length+')';e=z.innerHTML='💰'+u;if(window.v)v.innerHTML=e};aa=_=>{a=j[n]();c=t.pop();l();h.innerHTML+=`<c style='left:${a.left};top:${a.top};animation:.5s a' onclick=c='${c}',g=this,ac()>${+c?`<b>${c}</b>`:`<e>${c}</e>`}</c>`;d[c]^13?(p.push(c),g=h.lastChild,setTimeout(_=>{g.style.animation='';g.className='a';w()},500)):(h.className='e',setTimeout(_=>{h.className='';ad='gameOver';s()},5000))};ac=_=>{f.innerHTML=`<x onclick=f.close()></x><z style=font-size:200>${c}</z><a onclick=ae()>Discard for 💰${d[c]}</a>`;f.showModal()};y=_=>{f.innerHTML='<x onclick=f.close()></x><h1>Card Shop</h1><p id=v></p>';l();f.showModal()};w=_=>{for(a=h.querySelectorAll`c.a`,e=b=a.length;i=a[--b];i.style.top=r[n]().top)i.style.left=Math.min(innerWidth,e*256)/e*b+Math.max(0,innerWidth/2-e*128)};ae=_=>{g.onclick='';f.close();o.push(p.splice(p.indexOf(c))[0]);u+=d[c];l();g.className='b';a=m[n]();g.style.left=a.left;g.style.top=a.top;g.style.zIndex=o.length-88;w()};t=Object.keys(d).sort(_=>Math.random()-.5);u=0;ad=0;p=[];o=[];s()</script>