<title>🃏</title><meta name=viewport content=width=device-width,initial-scale=1><style>@keyframes a{0%{transform:scaleX(-1);background:#000}20%{background:#000}50%{background:#FFF}}@keyframes b{0%{filter:none;color:#0000}100%{filter:blur(7px);color:red;font-size:777}}@keyframes c{33%{transform:rotate(2deg)}77%{transform:rotate(-2deg)}}body{background:#111}d,d *{color:#EEE;font-family:monospace;font-size:16;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;transition:all .7s}h1{font-size:48;margin:16}v,a,c,x{cursor:pointer}a{background:#333;padding:24 48}a:hover,v:hover,c:hover,x:hover{filter:invert(1);z-index:7}x{align-self:flex-end}x::after{content:'❌'}#f{display:none}#f[open]{display:flex;background:#000}::backdrop{background:#7777}c,#l{border-radius:16px;height:360;width:256;color:#000}#r{color:#000}#l{background:#FFF;outline:4px double #777}c{background:#DDD;outline:3px solid;color:#000;font-size:100}c>*{font-size:1em;color:inherit;pointer-events:none}e{font-size:4em;padding-bottom:22%}#m{outline:4px dashed #CCC}#m,.b{pointer-events:none;border-radius:16px;height:192;width:128}#s{margin:24}.b{font-size:50}.e{pointer-events:none;animation:5s b, .1s c infinite}.e::after{content:'13';position:fixed}</style><d id=i></d><script>n='getBoundingClientRect';j=String.fromCharCode;e={};a=55356;for(b=0;b++<13;){c=Math.min(b,10);g=b^12?b:14;e[j(a,56480+g)]=c;e[j(a,56496+g)]=c;e[j(a,56512+g)]=c;e[j(a,56528+g)]=c;e[b]=b;if(b>5)e[b+8]=b+8};z={'🔮':'To combine with another card to discard: tell if the card 13 is in the next X (value of the discarded card) cards of the deck.','🔎':'Reveal the next 3 cards of the deck.','🗑️':'To combine with another card to discard: put the next X (value of the discarded card) cards of the deck in the discard pile.','🚮':'Put the next 3 cards of the deck in the discard pile.','🃟':'Reveal the next 2 cards of the deck, choose one to draw, the other will be discarded.','💰':'Increase all your 💰 gains by 10% while this card is in your hand. Discard it for 💰10.','🂠':'Shuffle the deck.'};t=_=>(i.innerHTML='<h1 style=font-size:320>🃏</h1><a onclick=aa()>Play</a>');aa=_=>{i.innerHTML="<h1>Don't draw card 13!</h1><z style=margin-top:64;width:100%;flex-direction:row;justify-content:space-evenly;gap:8px;align-items:start><a onclick=ab()><h1>🃏</h1>Card Shop<p id=ac></p></a><v id=l onclick=ad()><p id=r></p></v><z style=align-self:flex-end><p><z id=ae></z></p><z id=m></z></z></z><z id=s></z><dialog id=f></dialog>";k()};k=_=>{r.innerHTML='Draw ('+o.length+')';ae.innerHTML='Discard Pile ('+p.length+')';c=ac.innerHTML='Money: 💰'+u;if(window.v)v.innerHTML=c};ad=_=>{a=l[n]();d=o.pop();k();i.innerHTML+=`<c style='position:fixed;left:${a.left};top:${a.top};animation:.5s a' onclick=d='${d}',h=this,af()>${+d?`<b>${d}</b>`:`<e>${d}</e>`}</c>`;e[d]^13?(q.push(d),h=i.lastChild,setTimeout(_=>{h.style.animation='';h.className='a';w()},500)):(i.className='e',setTimeout(_=>{i.className='';ag='gameOver';t()},5000))};af=_=>{f.innerHTML=`<x onclick=f.close()></x><z style=font-size:200>${d}</z><a onclick=ah()>Discard for 💰${e[d]}</a>`;f.showModal()};ab=_=>{f.innerHTML=`<x onclick=f.close()></x><h1>Card Shop</h1><p>Select a card to buy and to add in your hand.</p><z id=v></z><p style=flex-direction:row;gap:32px>${x.slice(-2).map(g=>`<c className=c style=background:#FD8 onclick=console.log('describe card')>${g}</c>`).join('')}</p><a disabled=false onclick=console.log('Buy selected card')>Buy for 💰10</a>`;k();f.showModal()};w=_=>{for(a=i.querySelectorAll`c.a`,c=b=a.length;g=a[--b];g.style.top=s[n]().top)g.style.left=Math.min(innerWidth,c*256)/c*b+Math.max(0,innerWidth/2-c*128)};ah=_=>{h.onclick='';f.close();p.push(q.splice(q.indexOf(d))[0]);u+=e[d];k();h.className='b';a=m[n]();h.style.left=a.left;h.style.top=a.top;h.style.zIndex=p.length-88;w()};y=a=>{for(b=a.length;b--;[a[b],a[c]]=[a[c],a[b]])c=Math.random()*b|0};o=Object.keys(e);y(o);x=Object.keys(z);y(x);u=0;ag=0;q=[];p=[];t()</script>