<title>🃏</title><meta name=viewport content=width=device-width,initial-scale=1><style>@keyframes x{0%{transform:scaleX(-1);background:#000}20%{background:#000}50%{background:#FFF}}@keyframes y{0%{filter:none;color:#0000}100%{filter:blur(7px);color:#F00;font-size:777}}@keyframes z{33%{transform:rotate(2deg)}77%{transform:rotate(-2deg)}}body{background:#111}d,d *{color:#EEE;font-family:monospace;font-size:16;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;transition:all .7s}h1{font-size:48;margin:16}v,a,c,x{cursor:pointer}a{background:#333;padding:16}a:hover,#j:hover{filter:invert(1)}x{align-self:flex-end}x::after{content:'❌'}#f{display:none}#f[open]{display:flex;background:#000}::backdrop{background:#7777}c,#j{border-radius:24px;height:360;width:256;color:#000}#j{background:#FFF;outline:4px double #777}c{background:#FFF;position:fixed;outline:4px solid}c>*{font-size:88;color:#000;pointer-events:none}e{font-size:400;position:absolute;top:-88}#l{outline:4px dashed #CCC}#l,.b{pointer-events:none;border-radius:16px;height:192;width:128}#p{height:360;margin:24}.a:hover{transform:translateY(-7%);z-index:7}.b>e{font-size:200;top:-36}.c{pointer-events:none;animation:5s y, .1s z infinite}.c::after{content:'13';position:fixed}</style><d id=g></d><script>m='getBoundingClientRect';k=String.fromCharCode;d={};a=55356;for(b=0;b++<13;){e=Math.min(b,10);h=b^12?b:14;d[k(a,56480+h)]=e;d[k(a,56496+h)]=e;d[k(a,56512+h)]=e;d[k(a,56528+h)]=e;d[b]=b;if(b>5)d[b+8]=b+8};q=_=>(g.innerHTML='<h1 style=font-size:320>🃏</h1><a onclick=aa()>Play</a>');aa=_=>{g.innerHTML=`<h1>Don't draw card 13!</h1><p style=flex-direction:row;margin-bottom:32;gap:24px><z id=r></z><a id=aj onclick="confirm('Give up this game?')&&s()">❌ Give up</a></p><z style=width:100%;flex-direction:row;justify-content:space-evenly;gap:8px;align-items:start><a id=ak onclick=ab()><br>Card Shop<p id=ac></p></a><v id=j onclick=ad()>Draw</v><z style=align-self:flex-end><p>Discard<br>Pile</p><z id=l></z></z></z><z id=p></z><dialog id=f></dialog>`;t();n()};s=_=>{g.innerHTML='<h1>Game Over</h1><p id=r></p><a onclick=q()>Continue';t()};t=_=>(r.innerHTML='Level '+ae);n=_=>{e=ac.innerHTML='💰'+u;if(window.v)v.innerHTML=e};ad=_=>{a=j[m]();c=af.pop();g.innerHTML+=`<c style='left:${a.left};top:${a.top};animation:.5s x' onclick=c='${c}',i=this,ag()>${+c?`<b>${c}</b>`:`<e>${c}</e>`}</c>`;d[c]^13?(o.push(c),i=g.lastChild,setTimeout(_=>{i.style.animation='';i.className='a';w()},500)):(g.className='c',setTimeout(_=>{g.className='';s()},5000))};ag=_=>{f.innerHTML=`<x onclick=f.close()></x><z style=font-size:200>${c}</z><a onclick=ah()>Discard for 💰${d[c]}</a>`;f.showModal()};ab=_=>{f.innerHTML='<x onclick=f.close()></x><h1>Card Shop</h1><p id=v></p>';n();f.showModal()};w=_=>{for(a=g.querySelectorAll('c.a'),e=b=a.length;h=a[--b];h.style.top=p[m]().top)h.style.left=Math.min(innerWidth,e*256)/e*b+Math.max(0,innerWidth/2-e*128)};ah=_=>{i.onclick='';f.close();ai.push(o.splice(o.indexOf(c))[0]);u+=d[c];n();i.className='b';a=l[m]();i.style.left=a.left;i.style.top=a.top;w()};af=Object.keys(d).sort(_=>Math.random()-.5);ae=1;u=0;o=[];ai=[];al=0;am=0;q()</script>