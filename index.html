<title>🃏</title><meta name=viewport content=width=device-width,initial-scale=1><style>@keyframes a{0%{transform:scaleX(-1);background:#000}20%{background:#000}50%{background:#FFF}}@keyframes b{0%{filter:none;color:#0000}100%{filter:blur(7px);color:red;font-size:777}}@keyframes c{33%{transform:rotate(2deg)}77%{transform:rotate(-2deg)}}body{background:#111}d,d *{color:#EEE;font-family:monospace;font-size:16;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;transition:all .7s}h1{font-size:48;margin:16}v,a,c,x{cursor:pointer}a{background:#333;padding:24 48}a:hover,v:hover,c:hover,x:hover{filter:invert(1)}x{align-self:flex-end}x::after{content:'❌'}#g{display:none}#g[open]{display:flex;background:#000}::backdrop{background:#7777}c,#m{border-radius:16px;height:360;width:256;color:#000}#u{color:#000}#m{background:#FFF;outline:4px double #777}c{background:#DDD;outline:3px solid;color:#000;font-size:100}c>*{font-size:1em;color:inherit;pointer-events:none}e{font-size:4em;padding-bottom:22%}#n{outline:4px dashed #CCC}#n,.b{pointer-events:none;border-radius:16px;height:192;width:128}#v{margin:24}.b{font-size:50}.e{pointer-events:none;animation:5s b, .1s c infinite}.e::after{content:'13';position:fixed}</style><d id=i></d><script>o='getBoundingClientRect';l=String.fromCharCode;h={};a=55356;for(b=0;b++<13;){e=Math.min(b,10);d=b^12?b:14;h[l(a,56480+d)]=e;h[l(a,56496+d)]=e;h[l(a,56512+d)]=e;h[l(a,56528+d)]=e;h[b]=b;if(b>5)h[b+8]=b+8};w={'🔮':'To combine with another card to discard: tell if the card 13 is in the next X (value of the discarded card) cards of the deck.','🔎':'Reveal the next 3 cards of the deck.','🗑️':'To combine with another card to discard: put the next X (value of the discarded card) cards of the deck in the discard pile.','🚮':'Put the next 3 cards of the deck in the discard pile.','🃟':'Reveal the next 2 cards of the deck, choose one to draw, the other will be discarded.','💰':'Increase all your 💰 gains by 10% while this card is in your hand. Discard it for 💰10.','🂠':'Shuffle the deck.'};x=_=>(i.innerHTML='<h1 style=font-size:320>🃏</h1><a onclick=ab()>Play</a>');ab=_=>{i.innerHTML="<h1>Don't draw card 13!</h1><z style=margin-top:64;width:100%;flex-direction:row;justify-content:space-evenly;gap:8px;align-items:start><a onclick=y('')><h1>🃏</h1>Card Shop<p id=ac></p></a><v id=m onclick=ad()><p id=u></p></v><z style=align-self:flex-end><p><z id=ae></z></p><z id=n></z></z></z><z id=v></z><dialog id=g></dialog>";j()};j=_=>{u.innerHTML='Draw ('+p.length+')';ae.innerHTML='Discard Pile ('+q.length+')';e=ac.innerHTML='Money: 💰'+k;if(window.z)z.innerHTML=e};ad=_=>{a=m[o]();f=p.pop();j();i.innerHTML+=`<c style='position:fixed;left:${a.left};top:${a.top};animation:.5s a' onclick=f='${f}',c=this,af()>${+f?`<b>${f}</b>`:`<e>${f}</e>`}</c>`;h[f]^13?(r.push(f),c=i.lastChild,setTimeout(_=>{c.style.animation='';c.className='a';aa()},500)):(i.className='e',setTimeout(_=>{i.className='';ag='gameOver';x()},5000))};af=_=>{g.innerHTML=`<x onclick=g.close()></x><z style=font-size:200>${f}</z><a onclick=ah()>Discard for 💰${h[f]}</a>`;g.showModal()};y=c=>{g.innerHTML=`<x onclick=g.close()></x><h1>Card Shop</h1><p>Select a card to buy and to add in your hand.</p><z id=z></z><p style=flex-direction:row>${s.slice(-2).map(d=>`<c style=padding:16;margin:32;background:#FD8;transform:${c?d==c?'scale(1.1)':'scale(.9)':''};font-size:${d==c?16:100} onclick=y("${d==c?'':d}")>${d==c?w[c]:d}</c>`).join('')}</p>${c&&`<a onclick='if(k<10)return;k-=10;j();t(s);g.close()'>${k<10?'Not enough money':'Buy for 💰10'}</a>`}`;j();g.showModal()};aa=_=>{for(a=i.querySelectorAll`c.a`,e=b=a.length;d=a[--b];d.style.top=v[o]().top)d.style.left=Math.min(innerWidth,e*256)/e*b+Math.max(0,innerWidth/2-e*128)};ah=_=>{c.onclick='';g.close();q.push(r.splice(r.indexOf(f))[0]);k+=h[f];j();c.className='b';a=n[o]();c.style.left=a.left;c.style.top=a.top;c.style.zIndex=q.length-88;aa()};t=a=>{for(b=a.length;b--;[a[b],a[e]]=[a[e],a[b]])e=Math.random()*b|0};p=Object.keys(h);t(p);s=Object.keys(w);t(s);k=0;ag=0;r=[];q=[];x()</script>